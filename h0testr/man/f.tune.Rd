% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tune.R
\name{f.tune}
\alias{f.tune}
\title{Basic tuning loop}
\usage{
f.tune(
  config,
  norm_methods = c("TMM", "TMMwsp", "RLE", "upperquartile", "q50", "q75", "cpm", "vsn",
    "qquantile", "log2", "none"),
  impute_methods = c("sample_lod", "unif_sample_lod", "unif_global_lod", "rnorm_feature",
    "glm_binom", "loess_logit", "glmnet", "rf", "none"),
  impute_quantiles = c(0, 0.01, 0.05, 0.1, 0.25),
  impute_scales = c(1, 0.5, 0.25, 0.1),
  test_methods = c("voom", "trend")
)
}
\arguments{
\item{config}{List with configuration values like those returned by \code{f.new_config()}.}

\item{norm_methods}{Character vector of methods to try. One or more of:
\code{c("TMM", "TMMwsp", "RLE", "upperquartile", "q50", "q75", "cpm", "vsn", "qquantile", "log2", "none")}.}

\item{impute_methods}{Character vector of methods to try. One or more of:
\code{c("sample_lod", "unif_sample_lod", "unif_global_lod", "rnorm_feature", "glm_binom", "loess_logit", "glmnet", "rf", "none")}.}

\item{impute_quantiles}{Numeric vector of quantiles to try for \code{unif_} methods. 
One or more values between \code{0.0} and \code{1.0}.}

\item{impute_scales}{Numeric vector of scales to try for \code{rnorm_feature}. 
See \code{f.impute_rnorm_feature()} \code{scale}. parameter.}

\item{test_methods}{Character vector with one or more of: \code{c("trend", "voom")}.}
}
\value{
A data.frame with the following columns:
  \tabular{ll}{
    \code{norm}       \cr \tab Normalization method (character). \cr
    \code{norm_quant} \cr \tab Normalization quantile (numeric). \cr
    \code{impute}     \cr \tab Imputation method (character). \cr
    \code{imp_quant}  \cr \tab Imputation quantile (numeric). \cr
    \code{scale}      \cr \tab Imputation scale for \code{f.impute_rnorm_feature}. \cr
    \code{test}       \cr \tab Test method (character). \cr
    \code{perm}       \cr \tab Permuted variable (character). \cr
    \code{nhits}      \cr \tab Number of hits (numeric). \cr
    \code{ntests}     \cr \tab Number of tests (numeric). \cr
    \code{time}       \cr \tab Timestamp. \cr
  }
}
\description{
Run a basic tuning loop according.
}
\details{
Run a basic tuning loop that iterates over parameter combinations, 
    performing: 
    \code{f.normalize() -> f.combine_reps() -> f.filter() -> f.impute()}. 
    Do one run with \code{config$permute_var=""}, and \code{N} runs (we 
    recommend \code{N >= 20} with \code{config$permute_var} set to the 
    name of a variable in \code{config$test_term}.
}
\examples{
  \dontrun{
    config <- h0testr::f.new_config()
    config$feature_file_in <- "feats.tsv"
    config$sample_file_in <- "samps.tsv"
    config$data_file_in <- "exprs.tsv", 
    config$feat_id_col <- "gene"
    config$obs_id_col <- "replicate"
    config$sample_id_col <- "sample"
    config$frm <- ~age+sex+age:sex
    config$test_term <- "age:sex"
    config$permute_var <- ""
    tbl <- f.tune(config)
    config$permute_var <- "age"
    n <- 20
    for(idx in 1:n) tbl <- rbind(tbl, f.tune(config))
    head(tbl)
  }
}
